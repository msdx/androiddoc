<!DOCTYPE html>





























































































<html>
<head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">

<meta name="Description" content="The Android NDK provides a set of native headers and shared library files that has gradually increased with successive releases of new Android API levels. This page explains these headers and files, and maps them to specific Android API levels . There…">
<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<title>Android NDK Native APIs | Android Developers</title>

<!-- STYLESHEETS -->
<link rel="stylesheet"
href="http://fonts.useso.com/css?family=Roboto+Condensed">
<link rel="stylesheet" href="http://fonts.useso.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
  title="roboto">
<link rel="stylesheet" href="http://fonts.useso.com/css?family=Roboto+Mono:400,500,700" title="roboto-mono" type="text/css">
<link href="../../assets/css/default.css?v=7" rel="stylesheet" type="text/css">



<!-- JAVASCRIPT -->
<script src="../../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "../../";
  var metaTags = [];
  var devsite = false;
</script>
<script src="../../assets/js/docs.js?v=6" type="text/javascript"></script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5831155-1', 'android.com');
  ga('create', 'UA-49880327-2', 'android.com', {'name': 'universal'});  // New tracker);
  ga('send', 'pageview');
  ga('universal.send', 'pageview'); // Send page view for new tracker.
</script>

</head>

<body class="gc-documentation


ndk guide" itemscope itemtype="http://schema.org/Article">
<a name="top"></a>

<!-- dialog to prompt lang pref change when loaded from hardcoded URL
<div id="langMessage" style="display:none">
  <div>
    <div class="lang en">
      <p>You requested a page in English, would you like to proceed with this language setting?</p>
    </div>
    <div class="lang es">
      <p>You requested a page in Spanish (Español), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ja">
      <p>You requested a page in Japanese (日本語), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ko">
      <p>You requested a page in Korean (한국어), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ru">
      <p>You requested a page in Russian (Русский), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang zh-cn">
      <p>You requested a page in Simplified Chinese (简体中文), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang zh-tw">
      <p>You requested a page in Traditional Chinese (繁體中文), would you like to proceed with this language setting?</p>
    </div>
    <a href="#" class="button yes" onclick="return false;">
      <span class="lang en">Yes</span>
      <span class="lang es">Sí</span>
      <span class="lang ja">Yes</span>
      <span class="lang ko">Yes</span>
      <span class="lang ru">Yes</span>
      <span class="lang zh-cn">是的</span>
      <span class="lang zh-tw">没有</span>
    </a>
    <a href="#" class="button" onclick="$('#langMessage').hide();return false;">
      <span class="lang en">No</span>
      <span class="lang es">No</span>
      <span class="lang ja">No</span>
      <span class="lang ko">No</span>
      <span class="lang ru">No</span>
      <span class="lang zh-cn">没有</span>
      <span class="lang zh-tw">没有</span>
    </a>
  </div>
</div> -->


  <!-- Header -->
  <div id="header-wrapper">
    <div class="dac-header" id="header">




      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="javascript:;" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        <a class="dac-header-logo" href="../../ndk/index.html">
          <img class="dac-header-logo-image" src="../../assets/images/android_logo_ndk.png"
              srcset="../../assets/images/android_logo_ndk@2x.png 2x"
              width="32" height="36" alt="Android" /> NDK
          </a>

        <ul class="dac-header-crumbs">
          
          <li class="dac-header-crumbs-item"><span class="dac-header-crumbs-link current ndk">Android NDK Native APIs</a></li>
        </ul>

        
        

        <a class="dac-header-console-btn" href="http://developer.android.com">
          <span class="dac-visible-desktop-inline">Back to Android Developers</span>
        </a>

      </div><!-- end header-wrap.wrap -->
    </div><!-- end header -->

    <div id="searchResults" class="wrap" style="display:none;">
      <h2 id="searchTitle">Results</h2>
      <div id="leftSearchControl" class="search-control">Loading...</div>
    </div>
  </div> <!--end header-wrapper -->

  
  <!-- NDK Navigation-->
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>

    <ul class="dac-nav-list" data-dac-nav>
      <li class="dac-nav-item dac-nav-head">
        <a class="dac-nav-link dac-nav-logo" data-dac-toggle-nav href="javascript:;" title="Close navigation">
          <img class="dac-logo-image" src="../../assets/images/android_logo_ndk.png"
               srcset="../../assets/images/android_logo_ndk@2x.png 2x"
               width="32" height="36" alt="Android" /> NDK
        </a>
      </li>
      <li class="dac-nav-item guides">
        <a class="dac-nav-link" href="../../ndk/guides/index.html"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="../../ndk/reference/index.html"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Reference</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="../../ndk/samples/index.html"
           >Samples</a>
      </li>
      <li class="dac-nav-item downloads">
        <a class="dac-nav-link" href="../../ndk/downloads/index.html"
           >Downloads</a>
      </li>
    </ul>
  </nav>
  <!-- end NDK navigation-->
  




  <div class="wrap clearfix" id="body-content"><div class="cols">
    <div class="col-3 dac-toggle dac-mobile" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      
  <div class="dac-visible-mobile-block" data-toggle="section">
    <span class="dac-toggle-expand dac-devdoc-toggle"><i class="dac-sprite dac-expand-more-black"></i> Show navigation</span>
    <span class="dac-toggle-collapse dac-devdoc-toggle" data-toggle-section><i class="dac-sprite dac-expand-less-black"></i> Hide navigation</span>
  </div>

      <div class="dac-toggle-content" id="devdoc-nav">
        <div class="scroll-pane">


<ul id="nav">
   <li class="nav-section">
      <div class="nav-section-header"><a href="../../ndk/guides/index.html">
      <span class="en">Getting Started</span></a></div>
      <ul>
         <li><a href="../../ndk/guides/setup.html">Setup</a></li>
         <li><a href="../../ndk/guides/concepts.html">Concepts</a></li>
      </ul>
   </li>

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../ndk/guides/build.html">
      <span class="en">
      Building</span></a></div>
      <ul>
         <li><a href="../../ndk/guides/android_mk.html">Android.mk</a></li>
         <li><a href="../../ndk/guides/application_mk.html">Application.mk</a></li>
         <li><a href="../../ndk/guides/ndk-build.html">ndk-build</a></li>
         <li><a href="../../ndk/guides/standalone_toolchain.html">Standalone Toolchain
         </a></li>
      </ul>
   </li>

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../ndk/guides/arch.html">
      <span class="en">Architectures and CPUs</span></a></div>
      <ul>
         <li><a href="../../ndk/guides/abis.html">ABI Management</a></li>
         <li><a href="../../ndk/guides/cpu-arm-neon.html">NEON</a></li>
         <li><a href="../../ndk/guides/x86.html">x86</a></li>
         <li><a href="../../ndk/guides/x86-64.html">x86-64</a></li>
         <li><a href="../../ndk/guides/mips.html">MIPS</a></li>
         <li><a href="../../ndk/guides/cpu-features.html">The cpufeatures Library</a>
         </li>
      </ul>
   </li>

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../ndk/guides/debug.html">
      <span class="en">Debugging</span></a></div>
      <ul>
         <li><a href="../../ndk/guides/ndk-gdb.html">ndk-gdb</a></li>
         <li><a href="../../ndk/guides/ndk-stack.html">ndk-stack</a></li>
      </ul>
   </li>

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../ndk/guides/libs.html">
      <span class="en">Libraries</span></a></div>
      <ul>
      <li><a href="../../ndk/guides/prebuilts.html">Prebuilt Libraries</a></li>
      <li><a href="../../ndk/guides/cpp-support.html">C++ Support</a></li>
      <li><a href="../../ndk/guides/stable_apis.html">Stable APIs</a></li>

      </ul>
   </li>

</ul>


<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>


        </div>
      </div>
    </div> <!-- end side-nav -->
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="col-12" id="doc-col" >


  

  
    
      
        <h1 itemprop="name" >Android NDK Native APIs</h1>
      
    
  


  
  <div id="jd-content">


    <div class="jd-descr" itemprop="articleBody">
    <div id="qv-wrapper">
    <div id="qv">
      <h2>On this page</h2>

      <ol>
        <li><a href="#purpose">Overview</a></li>
        <li><a href="#mnu">Major Native API Updates</a><li>
          <ol>
        <li><a href="#a3">Android API level 3</a></li>
        <li><a href="#a4">Android API level 4</a></li>
        <li><a href="#a5">Android API level 5</a></li>
        <li><a href="#a8">Android API level 8</a></li>
        <li><a href="#a9">Android API level 9</a></li>
        <li><a href="#a14">Android API level 14</a></li>
        <li><a href="#a18">Android API level 18</a></li>
          </ol>
      </ol>
    </div>
  </div>

<p>The Android NDK provides a set of native headers and shared library files that has gradually
increased with successive releases of new Android API levels. This page explains these headers and
files, and maps them to specific
<a href="../../guide/topics/manifest/uses-sdk-element.html#ApiLevels"> Android API levels</a>.
</p>

<h2 id="purpose">Overview</h2>
<p>There are two basic steps to enable your app to use the libraries that the NDK provides:
</p>

<ol type ="1">
<li>Include in your code the headers associated with the libraries you wish to use.</li>

<li>Tell the build system that your native module needs to link against the libraries at load time.
For example, to link against  <code>/system/lib/libfoo.so</code>, add the following line to your
<a href="../../ndk/guides/android_mk.html">Android.mk</a> file:</li>

<pre>
LOCAL_LDLIBS := -lfoo
</pre>

<p>To list multiple libraries, use a space as a delimiter. For more information about using the
<code>LOCAL_LDLIBS</code> variable, see <a href="../../ndk/guides/android_mk.html">Android.mk</a>.
</p>

</ol>

<p>For all API levels, the build system automatically links the standard C libraries, the
standard C++ libraries, real-time extensions, and <code>pthread</code>; you do not need
to include them when defining your <code>LOCAL_LDLIBS</code> variable. For more information about
the C and C++ libraries, see <a href="#a3">Android API level 3</a>.</p>

<p>The NDK often provides new headers and libraries for new Android releases. These files reside
under <code>$NDK/platforms/android-&lt;level&gt;/&lt;abi&gt;/usr/include</code>. When the NDK does not
have a specific new group of headers and libraries for an Android API level, it means that
an app targeting that level should use the most recently released NDK assets. For example,
there was no new release of NDK headers or libraries for Android API levels 6 and 7. Therefore,
when developing an app targeting Android API level 7, you should use the headers and libraries
located under <code>android-5/</code>.</p>

<p>Table 1 shows the correspondence between NDK-supported API levels and Android releases.</p>

<p class="table-caption" id="table1">
  <strong>Table 1.</strong> NDK-supported API levels and corresponding Android releases.</p>
<table>
  <tr>
    <th scope="col">NDK-supported API level</th>
    <th scope="col">Android release</th>
  </tr>
  <tr>
    <td>3</td>
    <td>1.5</td>
  </tr>
    <tr>
    <td>4</td>
    <td>1.6</td>
  </tr>
    <tr>
    <td>5</td>
    <td>2.0</td>
  </tr>
  <tr>
    <td>8</td>
    <td>2.2</td>
  </tr>
    <tr>
    <td>9</td>
    <td>2.3 through 3.0.x</td>
  </tr>
  <tr>
    <td>12</td>
    <td>3.1.x</td>
  </tr>
  <tr>
    <td>13</td>
    <td>3.2</td>
  </tr>
  <tr>
    <td>14</td>
    <td>4.0 through 4.0.2</td>
  </tr>
  <tr>
    <td>15</td>
    <td>4.0.3 and 4.0.4</td>
  </tr>
    <tr>
    <td>16</td>
    <td>4.1 and 4.1.1</td>
  </tr>
    <tr>
    <td>17</td>
    <td>4.2 and 4.2.2</td>
  </tr>
    <tr>
    <td>18</td>
    <td>4.3</td>
  </tr>
    <tr>
    <td>19</td>
    <td>4.4</td>
  </tr>
    <tr>
    <td>21</td>
    <td>4.4W and 5.0</td>
</table>

<p>Each new release of NDK headers and libraries for a given Android API level is cumulative; you
are nearly always safe if you use the most recently released headers when building your app. For
example, you can use the NDK headers for Android API level 21 for an app targeting API level 16. By doing so, however, you increase your APK's footprint.</p>

<p>
For more information about Android API levels, see
<a href="../../guide/topics/manifest/uses-sdk-element.html#ApiLevels">What is API Level?</a>.
</p>

<h2 id="mnu">Major Native API Updates</h2>

<h3 id="a3">Android API level 3</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 1.5 system
images and above.</p>

<h4>C library</h4>
<p>The C library headers for Android 1.5 are available through their standard names, such as
<code>stdlib.h</code> and <code>stdio.h</code>. If a header is missing at build time, it's because the
header is not available on the 1.5 system image.</p>

<h4>C++ library</h4>
<p>An <em>extremely</em> minimal C++ support API is available. For more
information on C++ library support, see
<a href="../../ndk/guides/cpp-support.html">C++ Library Support</a>.</p>

<h4>Android-specific log support</h4>

<p><code>&lt;android/log.h&gt;</code> contains various definitions that an app can use to send log
messages to the kernel from native code. For more information about these definitions, see the
comments in <code>$NDK/platforms/android-3/arch-arm/usr/include/android/log.h</code>, where <code>$NDK</code>
is the root of your NDK installation.</p>

<p>You can write your own wrapper macros to access this functionality. If you wish to perform
logging, your native module should link to <code>/system/lib/liblog.so</code>. Implement this
linking by including the following line in your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -llog
</pre>

<h4>ZLib compression library</h4>
<p>You can use the <a href="http://www.zlib.net/manual.html">Zlib compression library</a>
by including <code>zlib.h</code> and <code>zconf.h</code>. You must also link your native
module against <code>/system/lib/libz.so</code> by including the following line in your
<a href="../../ndk/guides/android_mk.html"><code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -lz
</pre>

<h4>Dynamic linker library</h4>
<p>You can access the Android dynamic linker's <code>dlopen()</code>, <code>dlsym()</code>, and
<code>dlclose()</code> functions by including <code>dlfcn.h</code>. You must also link against
<code>/system/lib/libdl.so</code> by including the following line in your
<a href="../../ndk/guides/android_mk.html"><code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -ldl
</pre>

<h3 id="a4">Android API level 4</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 1.6 system
images and above.</p>

<h4>OpenGL ES 1.x Library</h4>
<p>The standard OpenGL ES headers <code>gl.h</code> and <code>glext.h</code> contain
the declarations necessary for performing OpenGL ES 1.x rendering calls from native code.</p>

<p>To use these headers, link your native module to <code>/system/lib/libGLESv1_CM.so</code> by
including the following line in your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>
</p>

<pre>
LOCAL_LDLIBS := -lGLESv1_CM
</pre>
<p>All Android-based devices support OpenGL ES 1.0, because Android provides an Open GL 1.0-capable
software renderer that can be used on devices without GPUs.</p>
<p>Only Android devices that have the necessary GPU fully support OpenGL ES 1.1. An app can
query the OpenGL ES version string and extension string to determine whether the current device
supports the features it needs. For information on how to perform this query, see the description of
<a href="http://www.khronos.org/opengles/sdk/1.1/docs/man/glGetString.xml"><code>glGetString()</code></a>
in the OpenGL specification.</p>

<p>Additionally, you must put a
<a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html"><code>&lt;uses-feature&gt;</code></a> tag in your manifest file to indicate the version of
<a href="http://developer.android.com/guide/topics/graphics/opengl.html#manifest">OpenGL ES</a>
that your application requires.</p>

<p>The <a href="#egl">EGL APIs</a> are only available starting from API level 9. You can, however,
use the VM to perform some of the operations that you would get from those APIS. These operations
include surface creation and flipping. For an example of how to use <code>GLSurfaceView</code>, see
<a href="http://android-developers.blogspot.com/2009/04/introducing-glsurfaceview.html">
Introducing GLSurfaceView</a>.</p>

<p>The san-angeles sample application provides an example of how to perform these operations,
rendering each frame in native code. This sample is a small Android port of the excellent
<a href="http://jet.ro/visuals/san-angeles-observation/">San Angeles Observation</a> demo
program.</p>

<h3 id="a5">Android API level 5</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 2.0 system
images and above.</p>

<h4>OpenGL ES 2.0 library:</h4>
<p>The standard OpenGL ES 2.0 headers <code>&lt;GLES2/gl2.h&gt;</code> and <code>&lt;GLES2/gl2ext.h&gt;</code>
contain the declarations needed for performing OpenGL ES 2.0 rendering calls from native code.
These rendering calls provide the ability to use the GLSL language to define and use vertex and
fragment shaders.</p>

<p>To use OpenGL ES 2.0, link your native module to <code>/system/lib/libGLESv2.so</code> by
including the following line in your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -lGLESv2
</pre>

<p>Not all devices support OpenGL ES 2.0. An app can query the OpenGL
ES version string and extension string to determine whether the current device
supports the features it needs. For information on how to perform this query, see the description of
<a href="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGetString.xml">
<code>glGetString()</code></a> in the OpenGL specification.</p>

<p>Additionally, you must put a
<a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html"><code>&lt;uses-feature&gt;</code></a> tag in your manifest file to indicate which version of OpenGL ES your
application requires. For more information about the OpenGL ES settings for
<code>&lt;uses-feature&gt;</code>, see
<a href="http://developer.android.com/guide/topics/graphics/opengl.html#manifest">OpenGL ES</a>.</p>

<p>The hello-gl2 sample application provies a basic example of how to use OpenGL ES 2.0 with the
NDK.</p>

<p>The <a href="#egl">EGL APIs</a> are only available starting from API level 9. You can, however,
use the VM to perform some of the operations that you would get from those APIs. These operations
include surface creation and flipping. For an example of how to use <code>GLSurfaceView</code>, see
<a href="http://android-developers.blogspot.com/2009/04/introducing-glsurfaceview.html">
Introducing GLSurfaceView</a>.</p>

<p class="note"><strong>Note:</strong> The Android emulator does not support OpenGL ES 2.0 hardware
emulation. Running and testing code that uses this API requires a real device with hardware that can
support OpenGL ES 2.0.</p>

<h3 id="a8">Android API level 8</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 2.2 system
images and above.</p>

<h4>jnigraphics</h4>
<p>The <code>jnigraphics</code> library exposes a C-based interface that allows native code to reliably access
the pixel buffers of Java bitmap objects. The workflow for using <code>jnigraphics</code> is as follows:
</p>

<ol type="1">
<li>Use <code>AndroidBitmap_getInfo()</code> to retrieve information from JNI, such as width and height,
about a given bitmap handle.</li>

<li>Use <code>AndroidBitmap_lockPixels()</code> to lock the pixel buffer and retrieve a pointer to it.
Doing so ensures that the pixels do not move until the app calls
<code>AndroidBitmap_unlockPixels()</code>.</li>

<li>In native code, modify the pixel buffer as appropriate for its pixel format, width, and other
characteristics.</li>

<li>Call <code>AndroidBitmap_unlockPixels()</code> to unlock the buffer.</li>
</ol>

<p>To use <code>jnigraphics</code>, include the <code>&lt;bitmap.h&gt;</code> header in your source code, and
link against <code>jnigraphics</code> by including the following line in your
<a href="../../ndk/guides/android_mk.html"><code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS += -ljnigraphics
</pre>

<p>Additional details about this feature are in the comments of the <code>bitmap.h</code> file.

<h3 id="a9">Android API level 9</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 2.3 system
images and above.</p>

<h4 id="egl"> EGL</h4>
<p>EGL provides a native platform interface for allocating and managing OpenGLES surfaces.
For more information about its features, see <a href="http://www.khronos.org/egl">
EGL Native Platform Interface</a>.</p>

<p>EGL allows you to perform the following operations from native code:</p>

<ul>
<li>List supported EGL configurations.</li>
<li>Allocate and release OpenGLES surfaces.</li>
<li>Swap or flip surfaces.</li>
</ul>

<p>The following headers provide EGL functionality:</p>
<ul>
   <li><code>EGL/egl.h</code>: the main EGL API definitions.</li>
   <li><code>EGL/eglext.h</code>: EGL extension-related definitions.</li>
</ul>

<p>To link against the system's EGL library, add the following line to your
<a href="../../ndk/guides/android_mk.html"><code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS += -lEGL
</pre>

<h4 id="osl">OpenSL ES</h4>
<p>Android native audio handling is based on the Khronos Group OpenSL ES 1.0.1 API.</p>

<p>The standard OpenSL ES headers <code>OpenSLES.h</code> and <code>OpenSLES_Platform.h</code> contain
the declarations necessary for performing audio input and output from the native side of Android.
The NDK distribution of the OpenSL ES also provides Android-specific extensions. For information
about these extensions, see the comments in <code>OpenSLES_Android.h</code> and
<code>OpenSLES_AndroidConfiguration.h</code>.</p>


<p>The system library <code>libOpenSLES.so</code> implements the public native audio functions. Link
against it by adding the following line to your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS += -lOpenSLES
</pre>

<p>For more information about the OpenSL ES API, refer to
<code>$NDK/docs/Additional_library_docs/opensles/index.html</code>, where <code>$NDK</code> is your NDK
installation root directory.</p>

<h4>Android native application APIs</h4>
<p>Starting from API level 9, you can write an entire Android app with native code, without using
any Java.</p>

<p class="note"><strong>Note: </strong>Writing your app in native code is not, in itself, enough
for your app to run in the VM. Moreover, your app must still access most features of the Android
platform via JNI.</p>

<p>This release provides the following native headers:</p>
<ul>
<li><code>&lt;native_activity.h&gt;</code></li>
<li><code>&lt;looper.h&gt;</code></li>
<li><code>&lt;input.h&gt;</code></li>
<li><code>&lt;keycodes.h&gt;</code></li>
<li><code>&lt;sensor.h&gt;</code></li>
<li><code>&lt;rect.h&gt;</code></li>
<li><code>&lt;window.h&gt;</code></li>
<li><code>&lt;native_window.h&gt;</code></li>
<li><code>&lt;native_window_jni.h&gt;</code></li>
<li><code>&lt;configuration.h&gt;</code></li>
<li><code>&lt;asset_manager.h&gt;</code></li>
<li><code>&lt;storage_manager.h&gt;</code></li>
<li><code>&lt;obb.h&gt;</code></li>
</ul>

<p>For more information about these headers, see the
<a href="../../ndk/reference/index.html">NDK API Reference documentation</a>, as well as
the comments in the headers, themselves. Also, for more information about the larger topic of
writing native apps, see <a href="../../ndk/guides/concepts.html#naa">
Native Activities and Applications</a>.

<p>When you include one or more of these headers, you must also link against the
<code>libandroid.so</code> library. To link against <code>libandroid.so</code>, include the following line in
your <a href="../../ndk/guides/android_mk.html"> <code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS += -landroid
</pre>

<h3 id="a14">Android API level 14</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 4.0 system
images and above.</p>

<h4>OpenMAX AL</h4>
<p>Android native multimedia handling is based on Khronos Group OpenMAX AL 1.0.1 API.</p>
<p>The standard OpenMAX AL headers <code>&lt;OMXAL/OpenMAXAL.h&gt;</code> and
<code>&lt;OMXAL/OpenMAXAL_Platform.h&gt;</code> contain the declarations necessary for performing
multimedia output from the native side of Android.</p>

<p>The NDK distribution of OpenMAX AL also provides Android-specific extensions. For information
about these extensions, see the comments in <code>OpenMAXAL_Android.h</code>.</p>

<p>The system library <code>libOpenMAXAL.so</code> implements the public native multimedia functions.
To link against this library, include the following line in your
<a href="../../ndk/guides/android_mk.html"> <code>Android.mk</code></a> file:</p>

<pre class="fragment">    LOCAL_LDLIBS += -lOpenMAXAL
</pre><p>For more information about this topic, see <code>$NDK/docs/openmaxal/index.html</code>,
where <code>$NDK</code> is the root directory of your NDK installation.</p>

<h4>OpenSL ES</h4>
<p>OpenSL ES support for this Android API level adds PCM support. For more information about
OpenSL ES support in the NDK, see <a href="#osl">OpenSL ES</a>.</p>

<h3 id="a18">Android API level 18</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 4.3 system
images and above.</p>

<h4>OpenGL ES 3.0</h4>

<p>The standard OpenGL ES 3.0 headers <code>gl3.h</code> and <code>gl3ext.h</code> contain the declarations
needed for performing OpenGL ES 3.0 rendering calls from native code. These rendering calls provide
the ability to use the GLSL language to define and use vertex and fragment shaders.

<p>To use OpenGL ES 3.0, link your native module against <code>/system/lib/libGLESv3.so</code> by
including the following line in your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -lGLESv3
</pre>

<p>Not all devices support OpenGL ES 3.0. An app can query the OpenGL
ES version string and extension string to determine whether the current device
supports the features it needs. For information on how to perform this query, see the description of
<a href="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGetString.xml">
<code>glGetString()</code></a> in the OpenGL specification.</p>

<p>Additionally, you must put a
<a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html"><code>&lt;uses-feature&gt;</code></a> tag in your manifest file to indicate which version of OpenGL ES your
application requires. For more information about the OpenGL ES settings for
<code>&lt;uses-feature&gt;</code>, see
<a href="http://developer.android.com/guide/topics/graphics/opengl.html#manifest">OpenGL ES</a>.</p>

<p>The gles3jni sample application provides a basic example of how to use OpenGL ES 3.0 with the
NDK.</p>

<p class="note"><strong>Note:</strong> The Android emulator does not support OpenGL ES 3.0 hardware
emulation. Running and testing code that uses this API requires a real device with hardware that can
support OpenGL ES 3.0.</p>


<h3 id="a18">Android API level 21</h3>
<p>The NDK provides the following APIs for developing native code that runs on Android 4.3 system
images and above.</p>

<h4>OpenGL ES 3.1</h4>

<p>The standard OpenGL ES 3.1 headers <code>gl31.h</code> and <code>gl3ext.h</code> contain the declarations
needed for performing OpenGL ES 3.1 rendering calls from native code. These rendering calls provide
the ability to use the GLSL language to define and use vertex and fragment shaders.

<p>To use OpenGL ES 3.1, link your native module against <code>/system/lib/libGLESv3.so</code> by
including the following line in your <a href="../../ndk/guides/android_mk.html">
<code>Android.mk</code></a> file:</p>

<pre>
LOCAL_LDLIBS := -lGLESv3
</pre>

<p>Not all devices support OpenGL ES 3.1. An app can query the OpenGL
ES version string and extension string to determine whether the current device
supports the features it needs. For information on how to perform this query, see the description of
<a href="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glGetString.xml">
<code>glGetString()</code></a> in the OpenGL specification.</p>

<p>Additionally, you must put a
<a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html"><code>&lt;uses-feature&gt;</code></a> tag in your manifest file to indicate which version of OpenGL ES your
application requires. For more information about the OpenGL ES settings for
<code>&lt;uses-feature&gt;</code>, see
<a href="http://developer.android.com/guide/topics/graphics/opengl.html#manifest">OpenGL ES</a>.</p>

<p>The gles3jni sample application provides a basic example of how to use OpenGL ES 3.1 with the
NDK.</p>

<p class="note"><strong>Note:</strong> The Android emulator does not support OpenGL ES 3.1 hardware
emulation. Running and testing code that uses this API requires a real device with hardware that can
support OpenGL ES 3.1.</p>


    </div>

    

  </div> <!-- end jd-content -->

<div class="wrap">
  <div class="dac-footer">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <a class="dac-footer-getnews" data-modal-toggle="newsletter" href="javascript:;">Get news &amp; tips <span
          class="dac-fab dac-primary"><i class="dac-sprite dac-mail"></i></span></a>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="http://android-developers.blogspot.com/">Blog</a>
          <a class="dac-footer-contact-link" href="/support.html">Support</a>
        </div>
        <div class="dac-footer-social">
          <a class="dac-fab dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers"><i class="dac-sprite dac-youtube"></i></a>
          <a class="dac-fab dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers"><i class="dac-sprite dac-gplus"></i></a>
          <a class="dac-fab dac-footer-social-link" href="https://twitter.com/AndroidDev"><i class="dac-sprite dac-twitter"></i></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>

    
      <p class="dac-footer-copyright">
        
  Except as noted, this content is
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and
  restrictions, see the <a href="../../license.html">Content
  License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="/about/index.html">About Android</a>
      <a href="/auto/index.html">Auto</a>
      <a href="/tv/index.html">TV</a>
      <a href="/wear/index.html">Wear</a>
      <a href="/legal.html">Legal</a>

      <span id="language" class="locales">
        <select name="language" onchange="changeLangPref(this.value, true)">
          <option value="en" selected="selected">English</option>
          <option value="es">Español</option>
          <option value="ja">日本語</option>
          <option value="ko">한국어</option>
          <option value="pt-br">Português Brasileiro</option>
          <option value="ru">Русский</option>
          <option value="zh-cn">中文（简体)</option>
          <option value="zh-tw">中文（繁體)</option>
        </select>
      </span>
    </p>
  </div>
</div> <!-- end footer -->

<div data-modal="newsletter" data-newsletter data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <button class="dac-modal-header-close" data-modal-toggle><i class="dac-sprite dac-close"></i></button>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle">&#42; Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            <h2 class="norule dac-modal-header-title">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://docs.google.com/forms/d/1QgnkzbEJIDu9lMEea0mxqWrXUJu0oBCLD7ar23V0Yys/formResponse" class="dac-form" method="post" target="dac-newsletter-iframe">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel">Full name</label>
                      <input type="text" class="dac-form-input" name="entry.1357890476" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel">Email address</label>
                      <input type="email" class="dac-form-input" name="entry.472100832" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="entry.1664780309" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="entry.47013838" id="newsletter-play-store" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <legend class="dac-form-legend">Which best describes your business:<span class="dac-form-required">*</span>
                    </legend>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-app" required>
                      <label for="newsletter-business-type-app" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-app" class="dac-form-label">Apps</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-games" required>
                      <label for="newsletter-business-type-games" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-games" class="dac-form-label">Games</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps and Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-appsgames" required>
                      <label for="newsletter-business-type-appsgames" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-appsgames" class="dac-form-label">Apps &amp; Games</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.732309842" id="newsletter-add" required value="Add me to the mailing list for the monthly newsletter and occasional emails about development and Google Play opportunities.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">Add me to the mailing list for the monthly newsletter and occasional emails about development and Google Play opportunities.<span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.2045036090" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside">I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.<span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end .cols --> 
</div> <!-- end body-content --> 





  <script src="../../ajax/developer.android.com/ytblogger_lists_unified.js" type="text/javascript"></script>
  <script src="../../jd_lists_unified.js?v=15" type="text/javascript"></script>
  <script src="../../jd_extras.js?v=15" type="text/javascript"></script>
  <script src="../../jd_collections.js?v=15" type="text/javascript"></script>
  <script src="../../jd_tag_helpers.js?v=15" type="text/javascript"></script>

</body>
</html>
